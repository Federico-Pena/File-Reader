import path from "node:path";
import express from "express";
import cors from "cors";
import { apiConfig } from "../config/apiConfig.js";
import { logger } from "../middlewares/logger.js";
import fileReader from "../routes/fileReader.routes.js";
import { cwd } from "node:process";
import { cleanTempDirFIles } from "../utils/cleanTempDirFIles.js";
const app = express();
app.disable("x-powered-by");
app.use(express.json());
app.use(cors(apiConfig.CORS_SETTINGS));
app.use(logger);
const staticPath = path.join(cwd(), "dist/public");
app.use("/", express.static(staticPath));
app.use(fileReader);
app.use("*", express.static(staticPath));
var app_default = app;
export {
  app_default as default
};
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsiLi4vLi4vc3JjL2FwcC9hcHAudHMiXSwKICAic291cmNlc0NvbnRlbnQiOiBbImltcG9ydCBwYXRoIGZyb20gJ25vZGU6cGF0aCdcclxuaW1wb3J0IGV4cHJlc3MgZnJvbSAnZXhwcmVzcydcclxuaW1wb3J0IGNvcnMgZnJvbSAnY29ycydcclxuaW1wb3J0IHsgYXBpQ29uZmlnIH0gZnJvbSAnLi4vY29uZmlnL2FwaUNvbmZpZy5qcydcclxuaW1wb3J0IHsgbG9nZ2VyIH0gZnJvbSAnLi4vbWlkZGxld2FyZXMvbG9nZ2VyLmpzJ1xyXG5pbXBvcnQgZmlsZVJlYWRlciBmcm9tICcuLi9yb3V0ZXMvZmlsZVJlYWRlci5yb3V0ZXMuanMnXHJcbmltcG9ydCB7IGN3ZCB9IGZyb20gJ25vZGU6cHJvY2VzcydcclxuaW1wb3J0IHsgY2xlYW5UZW1wRGlyRklsZXMgfSBmcm9tICcuLi91dGlscy9jbGVhblRlbXBEaXJGSWxlcy5qcydcclxuXHJcbmNvbnN0IGFwcCA9IGV4cHJlc3MoKVxyXG5cclxuLy8gRGlzYWJsZSB0aGUgaGVhZGVyICdYLVBvd2VyZWQtQnknXHJcbmFwcC5kaXNhYmxlKCd4LXBvd2VyZWQtYnknKVxyXG5cclxuLy8gUGFyc2UgaW5jb21pbmcgSlNPTiBkYXRhLlxyXG5hcHAudXNlKGV4cHJlc3MuanNvbigpKVxyXG5cclxuLy8gRW5hYmxlIENPUlNcclxuYXBwLnVzZShjb3JzKGFwaUNvbmZpZy5DT1JTX1NFVFRJTkdTKSlcclxuXHJcbi8vIExvZyBIVFRQIHJlcXVlc3RzIGZvcm1hdC5cclxuYXBwLnVzZShsb2dnZXIpXHJcblxyXG5jb25zdCBzdGF0aWNQYXRoID0gcGF0aC5qb2luKGN3ZCgpLCAnZGlzdC9wdWJsaWMnKVxyXG5cclxuYXBwLnVzZSgnLycsIGV4cHJlc3Muc3RhdGljKHN0YXRpY1BhdGgpKVxyXG5cclxuLy8gVXNlIG9uZSByb3V0ZXJcclxuYXBwLnVzZShmaWxlUmVhZGVyKVxyXG5cclxuLy8gSGFuZGxlIGFsbCBvdGhlciByZXF1ZXN0cy5cclxuYXBwLnVzZSgnKicsIGV4cHJlc3Muc3RhdGljKHN0YXRpY1BhdGgpKVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgYXBwXHJcbiJdLAogICJtYXBwaW5ncyI6ICJBQUFBLE9BQU8sVUFBVTtBQUNqQixPQUFPLGFBQWE7QUFDcEIsT0FBTyxVQUFVO0FBQ2pCLFNBQVMsaUJBQWlCO0FBQzFCLFNBQVMsY0FBYztBQUN2QixPQUFPLGdCQUFnQjtBQUN2QixTQUFTLFdBQVc7QUFDcEIsU0FBUyx5QkFBeUI7QUFFbEMsTUFBTSxNQUFNLFFBQVE7QUFHcEIsSUFBSSxRQUFRLGNBQWM7QUFHMUIsSUFBSSxJQUFJLFFBQVEsS0FBSyxDQUFDO0FBR3RCLElBQUksSUFBSSxLQUFLLFVBQVUsYUFBYSxDQUFDO0FBR3JDLElBQUksSUFBSSxNQUFNO0FBRWQsTUFBTSxhQUFhLEtBQUssS0FBSyxJQUFJLEdBQUcsYUFBYTtBQUVqRCxJQUFJLElBQUksS0FBSyxRQUFRLE9BQU8sVUFBVSxDQUFDO0FBR3ZDLElBQUksSUFBSSxVQUFVO0FBR2xCLElBQUksSUFBSSxLQUFLLFFBQVEsT0FBTyxVQUFVLENBQUM7QUFFdkMsSUFBTyxjQUFROyIsCiAgIm5hbWVzIjogW10KfQo=
